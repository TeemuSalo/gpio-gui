{% extends "gpio/header.html" %}

{% block content %}


	<div class="row">

	<div class="col-sm-8">
	<div id="run-choice" class="btn-group" data-toggle="buttons">
		<label id="manual" class="btn btn-primary active">
			<input type="radio" name="options" autocomplete="off"> Stop Always
	  	</label>
		<label id="auto" class="btn btn-primary">
			<input type="radio" name="options" autocomplete="off" checked> Run Through
	  	</label>
	  	<label id="delayed" class="btn btn-primary">
			<input type="radio" name="options" autocomplete="off"> Preset timer
	  	</label>
	</div>

	<div id="savedRuns" class="btn-group">
	  	<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
		Load Run <span class="caret"></span>
	  	</button>
	  	<ul class="dropdown-menu">
			{% if saves|length > 0 %}
				{% for run in saves %}
					<li><a value="{{ run.id }}" href="{% url 'loadedRun' run.id %}" class="label"><h6>{{ run.created }}</h6></a></li>
				{% endfor %}
			{% endif %}
	  	</ul>
	</div>

		<button id="query" class="btn btn-primary">Save Run</button>
	</div>


	<div class="col-sm-4">
		<div class="btn-group" role="group" aria-label="...">
	  		<button id="addone" type="button" class="btn btn-default top-buttons">Add one</button>
	  		<button id="addfive" type="button" class="btn btn-default top-buttons">Add five</button>
	  		<button id="clearAll" type="button" class="btn btn-default top-buttons">Clear</button>
		</div>
	</div>

	</div>




	<br/>




	<div class="row">
	<div class="col-sm-12">
	<div class="progress">
	<div class="progress-bar" role="progressbar" aria-valuenow="2" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: 2%;">
		0%
	</div>
	</div>
	</div>
	</div>

	<div class="row">
	<div class="col-sm-2">
		<button id="" type="button" class="btn btn-default startrun">
			RUN
	  	</button>
	</div>	
	<div class="col-sm-2">
		<input id="delay" type="text" value="1000" name="delay">
	</div>
	<!-- filler div -->
	<div class="col-sm-8"></div>
	</div>

	

	<br/>




	<div class="row">
	<div class="col-sm-7 PinLinesContainer">

	{% if pins %}
		
		{% for c in pins %}

			{% if c|length > 0 %}

			<div id="row-{{ forloop.counter }}" class="row added-pin-row">
			<div class="col-sm-1"><span class="glyphicon glyphicon-remove pull-left remove-line" aria-hidden="true"></span></div>
			<div class="col-sm-11 label label-{{ c.1 }}">
			<select class="select pull-left">
				{% for i in pins_range %}
				<option pin_val="{{ forloop.counter }}" {% if forloop.counter|stringformat:"i" == c.0 %} selected {% endif %}>
					Pin {{ forloop.counter }}
				</option>
				{% endfor %}
			</select>
			<button type="button" class="btn btn-{{ c.3 }} pull-right Pin-Dir" value="{{ c.2 }}">{{ c.4 }}</button>
			</div>
			</div>
		
			{% endif %}

		{% endfor %}
		<!-- make "else" content and javascript to hide it on row addition -->
		<!--<h2><small>Empty, choose a pin or load a saved run</small></h2>-->

	{% endif %}

	</div>


	<div class="col-sm-offset-5"></div>
	
	</div>




	<br/>




		<div class="row">
			<div class="col-sm-offset-8"></div>
			<div id="info-box" class="col-sm-4 well">

				{% if pins %}
		
					{% for c in pins %}

						{% if c|length > 0 %}

							{% for x in c%}
								{{ x }}
							{% endfor %}
							<br/>
						{% endif %}

					{% endfor %}

				{% else %}
			
					Welcome to GPIO GUI Web Application! <br/><br/>
					Start adding pins with "Choose Pin" button or load a previously saved run.

				{% endif %}
			</div>
		</div>
		


		<br/>

		<div class="row">
		
		<div class="col-sm-2">
			<!-- Single button -->
			<div id="PinCreator" class="btn-group">
		  	<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			Choose Pin <span class="caret"></span>
		  	</button>
		  	<ul class="dropdown-menu">
			<li><a pin_val = '1' href="" class="label label-warning pins"><h6>Pin 1 - 3.3V</h6></a></li>
			<li><a pin_val = '2' href="" class="label label-danger pins"><h6>Pin 2 - 5V</h6></a></li>
			<li><a pin_val = '3' href="" class="label label-success pins"><h6>Pin 3</h6></a></li>
			<li><a pin_val = '4' href="" class="label label-danger pins"><h6>Pin 4 - 5V</h6></a></li>
			<li><a pin_val = '5' href="" class="label label-success pins"><h6>Pin 5</h6></a></li>
			<li><a pin_val = '6' href="" class="label label-primary pins"><h6>Pin 6 - Ground</h6></a></li>
			<li><a pin_val = '7' href="" class="label label-success pins"><h6>Pin 7</h6></a></li>
			<li><a pin_val = '8' href="" class="label label-success pins"><h6>Pin 8</h6></a></li>
			<li><a pin_val = '9' href="" class="label label-primary pins"><h6>Pin 9 - Ground</h6></a></li>
			<li><a pin_val = '10' href="" class="label label-success pins"><h6>Pin 10</h6></a></li>
			<li><a pin_val = '11' href="" class="label label-success pins"><h6>Pin 11</h6></a></li>
			<li><a pin_val = '12' href="" class="label label-success pins"><h6>Pin 12</h6></a></li>
			<li><a pin_val = '13' href="" class="label label-success pins"><h6>Pin 13</h6></a></li>
			<li><a pin_val = '14' href="" class="label label-primary pins"><h6>Pin 14 - Ground</h6></a></li>
			<li><a pin_val = '15' href="" class="label label-success pins"><h6>Pin 15</h6></a></li>
			<li><a pin_val = '16' href="" class="label label-success pins"><h6>Pin 16</h6></a></li>
			<li><a pin_val = '17' href="" class="label label-warning pins"><h6>Pin 17 - 3.3V</h6></a></li>
			<li><a pin_val = '18' href="" class="label label-success pins"><h6>Pin 18</h6></a></li>
			<li><a pin_val = '19' href="" class="label label-success pins"><h6>Pin 19</h6></a></li>
			<li><a pin_val = '20' href="" class="label label-primary pins"><h6>Pin 20 - Ground</h6></a></li>
			<li><a pin_val = '21' href="" class="label label-success pins"><h6>Pin 21</h6></a></li>
			<li><a pin_val = '22' href="" class="label label-success pins"><h6>Pin 22</h6></a></li>
			<li><a pin_val = '23' href="" class="label label-success pins"><h6>Pin 23</h6></a></li>
			<li><a pin_val = '24' href="" class="label label-success pins"><h6>Pin 24</h6></a></li>
			<li><a pin_val = '25' href="" class="label label-primary pins"><h6>Pin 25 - Ground</h6></a></li>
			<li><a pin_val = '26' href="" class="label label-success pins"><h6>Pin 26</h6></a></li>
		  	</ul>
			</div>
		</div>

		<div class="col-sm-2">
			{% if loadedRun %}
			<a href="{% url 'deleteRun' loadedRun.id %}" ><button id="del-run" type="button" class="btn btn-danger">
				Delete this run {{loadedRun.id}}
		  	</button></a>
			{% endif %}
		</div>

		<!-- filler div -->
		<div class="col-sm-8"></div>

		</div>

		<br/><br/>
		
		<div class="row">
		<div class="col-sm-2">
			<button id="" type="button" class="btn btn-default startrun">
				RUN
		  	</button>
		</div>	

		<div class="col-sm-2">
			<input id="delay" type="text" value="1000" name="delay">
		</div>
		<!-- filler div -->
		<div class="col-sm-8"></div>
		</div>

		<div id="alert-box"></div>


	<form id="hidden-form" action="/gpio/add/" class="form" method="post">
	{% csrf_token %}
	<input id="pins-form" type="hidden" name="pins" value="">
	</form>


{% endblock %}







